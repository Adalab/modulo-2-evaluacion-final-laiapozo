const g=document.querySelector(".js-submit-btn"),S=document.querySelector(".js-txt-search"),r=document.querySelector(".js-list-shows");let i=[];const h=s=>{r.innerHTML="";for(const t of s){const e=document.createElement("li"),n=document.createElement("img"),c=document.createElement("h3");e.appendChild(n),e.appendChild(c),r.appendChild(e),e.id=t.mal_id,e.classList.add("js-show"),t.images.jpg.image_url==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"?n.setAttribute("src","https://placehold.co/225x310/e5be3e/FFF"):n.setAttribute("src",t.images.jpg.image_url);const l=document.createTextNode(t.title);c.appendChild(l);const u=document.querySelectorAll(".js-show");for(const p of u)p.addEventListener("click",w)}},f=s=>{s.preventDefault();const t=S.value;fetch(`https://api.jikan.moe/v4/anime?q=${t}`).then(e=>e.json()).then(e=>{i=e.data,h(i)})};g.addEventListener("click",f);const d=document.querySelector(".js-list-favs");let o=[];const m=JSON.parse(localStorage.getItem("shows")),a=s=>{d.innerHTML="";for(const t of s){const e=document.createElement("li"),n=document.createElement("img"),c=document.createElement("h3");e.appendChild(n),e.appendChild(c),d.appendChild(e),e.id=t.mal_id,t.images.jpg.image_url==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"?n.setAttribute("src","https://placehold.co/225x310/e5be3e/FFF"):n.setAttribute("src",t.images.jpg.image_url);const l=document.createTextNode(t.title);c.appendChild(l)}},w=s=>{const t=parseInt(s.currentTarget.id);s.currentTarget.classList.add("favorite");const e=i.find(n=>n.mal_id===t);o.push(e),localStorage.setItem("shows",JSON.stringify(o)),a(o)};if(m!==null)for(const s of m)o.push(s);a(o);const j=document.querySelector(".js-reset-btn"),v=()=>{i=[],h(i),o=[],a(o),localStorage.removeItem("shows")};j.addEventListener("click",v);
//# sourceMappingURL=main.js.map
